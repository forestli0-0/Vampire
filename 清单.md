已实现功能

玩家系统：移动、受伤无敌时间、HP/XP/等级与溢出升级队列，拾取范围。
武器/被动：魔杖、斧头（穿透限单次命中）、大蒜光环；被动提升伤害、冷却、移速；武器升级与进化（魔杖→圣魔杖，斧头→死亡旋风）。
敌人：骷髅/蝙蝠/植物（远程射击），精英敌人、软碰撞分离，受击闪白。
投射物：玩家子弹、斧头重力弧线，敌方子弹；碰撞、寿命、穿透规则。
掉落/拾取：宝石吸附与拾取，宝箱（进化或+500 XP），地面道具（鸡腿回血、磁铁全图吸宝石、炸弹清屏）。
升级系统：随机 3 选 1，升级/被动应用，多级升级排队处理。
导演/刷怪：时间驱动精英事件，随时间/等级调节刷怪，2 分钟后引入植物。
视效/音效：平铺背景，玩家动画占位帧，受击屏幕抖动、敌人闪白；射击/受击/宝石拾取音效（含占位波形）。
HUD/状态：HP/XP 条、等级、计时器、升级界面，游戏结束重开。

问题清单（快速检查）

- [待修] 武器进化后无开火：`weapons.update` 仅处理魔杖/斧头/大蒜，进化成圣魔杖或死亡旋风后没有发射逻辑，宝箱进化会让主武器直接消失。
- [已修复] 进化后基础武器仍会出现在升级池：进化时移除了魔杖/斧头实例，但未屏蔽其条目，后续升级选项可能再次出现基础武器，浪费选择。
- [待修] 斧头/死亡旋风面积加成缺失：catalog 中的 `area` 值没有在投射物生成或碰撞时使用，斧头升级的范围成长未生效。
- [待修] 受伤无敌缺少反馈：有动画时不再闪烁，invincibleTimer 期间玩家缺乏可视提示，容易误判是否能被击中。
- [已修复] 升级界面提前出现进化武器：未满足条件仍出现圣魔杖、死亡旋风。
- [已修复] 玩家死亡未进入 Game Over：HP 归零后屏幕抖动持续、角色闪烁，未提示重开。
可扩展方向

资源：替换占位动画/纹理/音效为正式素材，增加不同帧率/方向的角色与敌人动画。
平衡与多样性：更多武器/被动/进化组合，植物射速/子弹行为调整，难度曲线/波次设计。
反馈与特效：更丰富的击中特效、死亡爆炸、UI 动效，粒子系统。
系统层：存档/解锁、角色选择（初始属性/武器不同）、成就。
关卡/地图：不同地形或障碍物，更多敌人种类与精英技能。
性能：空间分区优化碰撞与分离检查，更大刷怪密度。
